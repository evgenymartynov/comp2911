<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!-- NewPage -->
<html lang="en">
<head>
<!-- Generated by javadoc (version 1.7.0_15) on Wed Apr 10 17:43:35 EST 2013 -->
<title>Room</title>
<meta name="date" content="2013-04-10">
<link rel="stylesheet" type="text/css" href="stylesheet.css" title="Style">
</head>
<body>
<script type="text/javascript"><!--
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Room";
    }
//-->
</script>
<noscript>
<div>JavaScript is disabled on your browser.</div>
</noscript>
<!-- ========= START OF TOP NAVBAR ======= -->
<div class="topNav"><a name="navbar_top">
<!--   -->
</a><a href="#skip-navbar_top" title="Skip navigation links"></a><a name="navbar_top_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Room.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="CommandParser.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="RoomBooking.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Room.html" target="_top">Frames</a></li>
<li><a href="Room.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_top">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_top");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_top">
<!--   -->
</a></div>
<!-- ========= END OF TOP NAVBAR ========= -->
<!-- ======== START OF CLASS DATA ======== -->
<div class="header">
<h2 title="Class Room" class="title">Class Room</h2>
</div>
<div class="contentContainer">
<ul class="inheritance">
<li>java.lang.Object</li>
<li>
<ul class="inheritance">
<li>Room</li>
</ul>
</li>
</ul>
<div class="description">
<ul class="blockList">
<li class="blockList">
<hr>
<br>
<pre>public class <span class="strong">Room</span>
extends java.lang.Object</pre>
<div class="block">A single room with its associated bookings.

 This class provides operations for placing and modifying bookings of the
 room.</div>
</li>
</ul>
</div>
<div class="summary">
<ul class="blockList">
<li class="blockList">
<!-- =========== FIELD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_summary">
<!--   -->
</a>
<h3>Field Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Field Summary table, listing fields, and an explanation">
<caption><span>Fields</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Field and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.TreeSet&lt;<a href="RoomBooking.html" title="class in &lt;Unnamed&gt;">RoomBooking</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="Room.html#bookings">bookings</a></strong></code>&nbsp;</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>private int</code></td>
<td class="colLast"><code><strong><a href="Room.html#capacity">capacity</a></strong></code>&nbsp;</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Room.html#name">name</a></strong></code>&nbsp;</td>
</tr>
</table>
</li>
</ul>
<!-- ======== CONSTRUCTOR SUMMARY ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_summary">
<!--   -->
</a>
<h3>Constructor Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Constructor Summary table, listing constructors, and an explanation">
<caption><span>Constructors</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colOne" scope="col">Constructor and Description</th>
</tr>
<tr class="altColor">
<td class="colOne"><code><strong><a href="Room.html#Room(java.lang.String, int)">Room</a></strong>(java.lang.String&nbsp;name,
    int&nbsp;capacity)</code>
<div class="block">Constructs a new room with a given name and capacity.</div>
</td>
</tr>
</table>
</li>
</ul>
<!-- ========== METHOD SUMMARY =========== -->
<ul class="blockList">
<li class="blockList"><a name="method_summary">
<!--   -->
</a>
<h3>Method Summary</h3>
<table class="overviewSummary" border="0" cellpadding="3" cellspacing="0" summary="Method Summary table, listing methods, and an explanation">
<caption><span>Methods</span><span class="tabEnd">&nbsp;</span></caption>
<tr>
<th class="colFirst" scope="col">Modifier and Type</th>
<th class="colLast" scope="col">Method and Description</th>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.Object</code></td>
<td class="colLast"><code><strong><a href="Room.html#beginDeletionTransaction(java.lang.String, BookingTimePeriod)">beginDeletionTransaction</a></strong>(java.lang.String&nbsp;user,
                        <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</code>
<div class="block">Starts a deletion transaction that can be rolled back.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="Room.html#deleteBookings(java.lang.String, BookingTimePeriod)">deleteBookings</a></strong>(java.lang.String&nbsp;user,
              <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</code>
<div class="block">Deletes a set of bookings as described by a given time period.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Room.html#describeBookings()">describeBookings</a></strong>()</code>
<div class="block">Returns description of the bookings made for this room.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>java.lang.String</code></td>
<td class="colLast"><code><strong><a href="Room.html#getName()">getName</a></strong>()</code>
<div class="block">Gets the room's name.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>private java.util.LinkedList&lt;<a href="RoomBooking.html" title="class in &lt;Unnamed&gt;">RoomBooking</a>&gt;</code></td>
<td class="colLast"><code><strong><a href="Room.html#getRemovalListOrNull(java.lang.String, BookingTimePeriod)">getRemovalListOrNull</a></strong>(java.lang.String&nbsp;user,
                    <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</code>
<div class="block">Generates a list of bookings that must be removed to fulfill the deletion
 request.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>boolean</code></td>
<td class="colLast"><code><strong><a href="Room.html#isAvailable(BookingTimePeriod, int)">isAvailable</a></strong>(<a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period,
           int&nbsp;capacity)</code>
<div class="block">Check availability of this room for a given booking request.</div>
</td>
</tr>
<tr class="altColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Room.html#makeBooking(java.lang.String, java.lang.String, BookingTimePeriod, int)">makeBooking</a></strong>(java.lang.String&nbsp;user,
           java.lang.String&nbsp;title,
           <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period,
           int&nbsp;capacity)</code>
<div class="block">Puts in the booking request into the system.</div>
</td>
</tr>
<tr class="rowColor">
<td class="colFirst"><code>void</code></td>
<td class="colLast"><code><strong><a href="Room.html#rollbackDeletionTransaction(java.lang.Object)">rollbackDeletionTransaction</a></strong>(java.lang.Object&nbsp;transaction)</code>
<div class="block">Rolls back a previously started deletion transaction.</div>
</td>
</tr>
</table>
<ul class="blockList">
<li class="blockList"><a name="methods_inherited_from_class_java.lang.Object">
<!--   -->
</a>
<h3>Methods inherited from class&nbsp;java.lang.Object</h3>
<code>clone, equals, finalize, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</code></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="details">
<ul class="blockList">
<li class="blockList">
<!-- ============ FIELD DETAIL =========== -->
<ul class="blockList">
<li class="blockList"><a name="field_detail">
<!--   -->
</a>
<h3>Field Detail</h3>
<a name="name">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>name</h4>
<pre>private&nbsp;java.lang.String name</pre>
</li>
</ul>
<a name="capacity">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>capacity</h4>
<pre>private&nbsp;int capacity</pre>
</li>
</ul>
<a name="bookings">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>bookings</h4>
<pre>private&nbsp;java.util.TreeSet&lt;<a href="RoomBooking.html" title="class in &lt;Unnamed&gt;">RoomBooking</a>&gt; bookings</pre>
</li>
</ul>
</li>
</ul>
<!-- ========= CONSTRUCTOR DETAIL ======== -->
<ul class="blockList">
<li class="blockList"><a name="constructor_detail">
<!--   -->
</a>
<h3>Constructor Detail</h3>
<a name="Room(java.lang.String, int)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>Room</h4>
<pre>public&nbsp;Room(java.lang.String&nbsp;name,
    int&nbsp;capacity)</pre>
<div class="block">Constructs a new room with a given name and capacity.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>name</code> - Name of the room.</dd><dd><code>capacity</code> - Capacity of the room.</dd></dl>
</li>
</ul>
</li>
</ul>
<!-- ============ METHOD DETAIL ========== -->
<ul class="blockList">
<li class="blockList"><a name="method_detail">
<!--   -->
</a>
<h3>Method Detail</h3>
<a name="getName()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>getName</h4>
<pre>public&nbsp;java.lang.String&nbsp;getName()</pre>
<div class="block">Gets the room's name.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Room's name.</dd></dl>
</li>
</ul>
<a name="describeBookings()">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>describeBookings</h4>
<pre>public&nbsp;java.lang.String&nbsp;describeBookings()</pre>
<div class="block">Returns description of the bookings made for this room.</div>
<dl><dt><span class="strong">Returns:</span></dt><dd>Description of bookings.</dd></dl>
</li>
</ul>
<a name="isAvailable(BookingTimePeriod, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>isAvailable</h4>
<pre>public&nbsp;boolean&nbsp;isAvailable(<a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period,
                  int&nbsp;capacity)</pre>
<div class="block">Check availability of this room for a given booking request.

 The fact that this runs in O(weeks * bookings) makes me very sad.
 Standard Java classes seem to be very limiting, I'd happily do away with
 Calendar.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>period</code> - Booking period being tested.</dd><dd><code>capacity</code> - Required minimum capacity for the booking.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Whether or not the booking request can be satisfied.</dd></dl>
</li>
</ul>
<a name="makeBooking(java.lang.String, java.lang.String, BookingTimePeriod, int)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>makeBooking</h4>
<pre>public&nbsp;void&nbsp;makeBooking(java.lang.String&nbsp;user,
               java.lang.String&nbsp;title,
               <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period,
               int&nbsp;capacity)</pre>
<div class="block">Puts in the booking request into the system.

 Assumes that the system is in a sane state, and that the requested spots
 are available.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - Originator of the request.</dd><dd><code>title</code> - Title for the booking.</dd><dd><code>period</code> - Booking period to add.</dd><dd><code>capacity</code> - Required minimum capacity for booking.</dd></dl>
</li>
</ul>
<a name="deleteBookings(java.lang.String, BookingTimePeriod)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>deleteBookings</h4>
<pre>public&nbsp;boolean&nbsp;deleteBookings(java.lang.String&nbsp;user,
                     <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</pre>
<div class="block">Deletes a set of bookings as described by a given time period. The owner
 must match the given user.

 This method does not guarantee deletion. All weekly bookings must exist
 in the given period and must be owned by the specified user.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - User that must own the booking.</dd><dd><code>period</code> - Time period over which to delete existing bookings.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Whether or not the deletion succeeded.</dd></dl>
</li>
</ul>
<a name="beginDeletionTransaction(java.lang.String, BookingTimePeriod)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>beginDeletionTransaction</h4>
<pre>public&nbsp;java.lang.Object&nbsp;beginDeletionTransaction(java.lang.String&nbsp;user,
                                        <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</pre>
<div class="block">Starts a deletion transaction that can be rolled back. The room's state
 will be changed as if the deletions have gone through. Transaction itself
 should be treated externally as an opaque object.

 There are no guarantees that the rollback will result in a valid state if
 the room has been modified in-between the start and end of this
 transaction.

 A transaction does not need to be explicitly committed.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - User that owns deleted bookings.</dd><dd><code>period</code> - Time period over which to delete existing bookings.</dd>
<dt><span class="strong">Returns:</span></dt><dd>Object representing the transaction state, which is null if and
         only if the deletion cannot go through.</dd></dl>
</li>
</ul>
<a name="rollbackDeletionTransaction(java.lang.Object)">
<!--   -->
</a>
<ul class="blockList">
<li class="blockList">
<h4>rollbackDeletionTransaction</h4>
<pre>public&nbsp;void&nbsp;rollbackDeletionTransaction(java.lang.Object&nbsp;transaction)</pre>
<div class="block">Rolls back a previously started deletion transaction. See comments on
 beginDeletionTransaction().</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>transaction</code> - Transaction to be rolled back.</dd></dl>
</li>
</ul>
<a name="getRemovalListOrNull(java.lang.String, BookingTimePeriod)">
<!--   -->
</a>
<ul class="blockListLast">
<li class="blockList">
<h4>getRemovalListOrNull</h4>
<pre>private&nbsp;java.util.LinkedList&lt;<a href="RoomBooking.html" title="class in &lt;Unnamed&gt;">RoomBooking</a>&gt;&nbsp;getRemovalListOrNull(java.lang.String&nbsp;user,
                                                     <a href="BookingTimePeriod.html" title="class in &lt;Unnamed&gt;">BookingTimePeriod</a>&nbsp;period)</pre>
<div class="block">Generates a list of bookings that must be removed to fulfill the deletion
 request.</div>
<dl><dt><span class="strong">Parameters:</span></dt><dd><code>user</code> - User that must own the booking.</dd><dd><code>period</code> - Time period over which to delete existing bookings.</dd>
<dt><span class="strong">Returns:</span></dt><dd>List of bookings that need to be removed, or null if removals are
         not allowed.</dd></dl>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
</div>
<!-- ========= END OF CLASS DATA ========= -->
<!-- ======= START OF BOTTOM NAVBAR ====== -->
<div class="bottomNav"><a name="navbar_bottom">
<!--   -->
</a><a href="#skip-navbar_bottom" title="Skip navigation links"></a><a name="navbar_bottom_firstrow">
<!--   -->
</a>
<ul class="navList" title="Navigation">
<li><a href="package-summary.html">Package</a></li>
<li class="navBarCell1Rev">Class</li>
<li><a href="class-use/Room.html">Use</a></li>
<li><a href="package-tree.html">Tree</a></li>
<li><a href="deprecated-list.html">Deprecated</a></li>
<li><a href="index-files/index-1.html">Index</a></li>
<li><a href="help-doc.html">Help</a></li>
</ul>
</div>
<div class="subNav">
<ul class="navList">
<li><a href="CommandParser.html" title="class in &lt;Unnamed&gt;"><span class="strong">Prev Class</span></a></li>
<li><a href="RoomBooking.html" title="class in &lt;Unnamed&gt;"><span class="strong">Next Class</span></a></li>
</ul>
<ul class="navList">
<li><a href="index.html?Room.html" target="_top">Frames</a></li>
<li><a href="Room.html" target="_top">No Frames</a></li>
</ul>
<ul class="navList" id="allclasses_navbar_bottom">
<li><a href="allclasses-noframe.html">All Classes</a></li>
</ul>
<div>
<script type="text/javascript"><!--
  allClassesLink = document.getElementById("allclasses_navbar_bottom");
  if(window==top) {
    allClassesLink.style.display = "block";
  }
  else {
    allClassesLink.style.display = "none";
  }
  //-->
</script>
</div>
<div>
<ul class="subNavList">
<li>Summary:&nbsp;</li>
<li>Nested&nbsp;|&nbsp;</li>
<li><a href="#field_summary">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_summary">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_summary">Method</a></li>
</ul>
<ul class="subNavList">
<li>Detail:&nbsp;</li>
<li><a href="#field_detail">Field</a>&nbsp;|&nbsp;</li>
<li><a href="#constructor_detail">Constr</a>&nbsp;|&nbsp;</li>
<li><a href="#method_detail">Method</a></li>
</ul>
</div>
<a name="skip-navbar_bottom">
<!--   -->
</a></div>
<!-- ======== END OF BOTTOM NAVBAR ======= -->
</body>
</html>
